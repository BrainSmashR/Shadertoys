
--
--       _____        _   _       _   ______    _ _ _
--      |  __ \      | \ | |     | | |  ____|  | (_) |
--      | |  | | ___ |  \| | ___ | |_| |__   __| |_| |_
--      | |  | |/ _ \| . ` |/ _ \| __|  __| / _` | | __|
--      | |__| | (_) | |\  | (_) | |_| |___| (_| | | |_
--      |_____/ \___/|_| \_|\___/ \__|______\__,_|_|\__|
--
--   ... this File is managed by some scripts and can be
--    overwritten at any time and without further notice!
--         pls. see https://github.com/nmbr73/Shadertoys
--                                           for details
--

      local FC_PREFIX=""
      local FC_AUTHBASEDLAYOUT=false
      local FC_SUBMENU="Shadertoys"
      local FC_DEVELOP=false

      --[[--/*

    Spilled.fuse

    Based on https://www.shadertoy.com/view/MsGSRd Erstellt von flockaroo am 2016-06-15

    V1 JiPi Recursiv BufferA Shadertoy
    V2 JiPi Corrected mat2-Function and added reflect-Function to run under OpenCL
    V3 Tida added some modifiers, change code for learning, added blending
    V4 Cleanup - added Reset - added Noise
	V5 Changes for Installer

*/--]]--

-- "LUA CODE..." /**


-- MANDATORY -----------------------------------------------------------------
local shadertoy_name       = "spilled"
local shadertoy_author     = "flockaroo"
local shadertoy_id         = "MsGSRd"
local shadertoy_license    = "CC BY-NC-SA 3.0"
local dctlfuse_category    = "Recursive"
local dctlfuse_name        = "Spilled"
local dctlfuse_author      = "JiPi"
-- OPTIONAL ------------------------------------------------------------------
local dctlfuse_versionNo   = 5
local dctlfuse_versionDate = "20st of March 2021"
local dctlfuse_authorurl   = "https://www.youtube.com/channel/UCItO4q_3JgMVV2MFIPDGQGg"
local dctlfuse_authorlogo  = 'width="316" height="60" src="data:image/png;base64,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"'
-- local dctlfuse_infourl     = 'https://www.steakunderwater.com/wesuckless/viewtopic.php?f=45&t=4597'




-- // ------------------------------------------------------------------------
-- // Registry declaration
-- // ------------------------------------------------------------------------

FuRegisterClass(
-- >>> SCHNIPP::FUREGISTERCLASS.version="MonumentsAndSites"
   (FC_PREFIX==nil and "ST_" or (FC_PREFIX=="" and "" or FC_PREFIX.."_"))..dctlfuse_name, CT_SourceTool, { REGS_Category = (FC_SUBMENU==nil and "Shadertoys (dev)" or (FC_SUBMENU=="" and "Fuses" or FC_SUBMENU))..(FC_CATEGORY==nil and "\\"..dctlfuse_category or ( FC_CATEGORY ~= "" and "\\"..FC_CATEGORY or "")), REGS_OpIconString = (FC_SCPREFIX==nil and "ST-" or (SC_SCPREFIX=="" and "" or FC_SCPREFIX.."-"))..shadertoy_id,
   REGS_OpDescription = "Shadertoy '"..shadertoy_name.."' (ID: "..shadertoy_id..") created by "..shadertoy_author.." and ported by "..dctlfuse_author..(shadertoy_license == "" and ". Copyright "..shadertoy_author.." (CC BY-NC-SA 3.0)" or ". "..shadertoy_license)..". This port is by no means meant to take advantage of anyone or to do anyone wrong : Contact us on Discord (https://discord.gg/75FUn4N4pv) and/or GitHub (https://github.com/nmbr73/Shadertoys) if you see your rights abused or your intellectual property violated by this work.",
   REG_Fuse_NoEdit = not(FC_DEVELOP==nil or FC_DEVELOP==true), REG_Fuse_NoReload = not(FC_DEVELOP==nil or FC_DEVELOP==true), REG_Fuse_TilePic = FC_TITLEPIC, REGS_Company = dctlfuse_company==nil and dctlfuse_author or dctlfuse_company, REGS_URL = dctlfuse_authorurl==nil and "https://nmbr73.github.io/Shadertoys/" or dctlfuse_authorurl,
   REG_Version = FC_VERSIONNO~=nil and FC_VERSIONNO or (dctlfuse_versionNo==nil and 1 or dctlfuse_versionNo),
-- <<< SCHNAPP::FUREGISTERCLASS

  REG_NoObjMatCtrls      = true,
  REG_NoMotionBlurCtrls  = true,

  REG_Source_GlobalCtrls = true,
  REG_Source_SizeCtrls   = true,
  REG_Source_AspectCtrls = true,
  REG_Source_DepthCtrls  = true,
  --REG_OpNoMask           = true,

  REG_TimeVariant        = true,
  REG_NoPreCalcProcess   = true,  -- call Process for precalc requests (instead of PreCalcProcess)
  })

  dctlfuse_versionNo =  dctlfuse_versionNo/10

-----------------------------------

-- **/ "End of LUA CODE"

GlobalParams =
[[
  float center[2];
  float angle;
  float pivot[2];
  float coordscor[2];
  float scale;
  float freq;
  int width;
  int height;
  float itime;
  int iframe;
  bool startpicture;
  bool noise;
  bool reset;

	float Structure;
	float Reflection;
	float SampleSize;
	float X_Shift;
	float Y_Shift;

	float Blend01;
	float Blend02;
	float Blend03;
	float Brightness;
	float Drift;

	float Alpha_Show;
	float Alpha_Apply;
	float Alpha_Red;
	float Alpha_Green;
	float Alpha_Blue;

	float Alpha_Low;
	float Alpha_High;
	float Alpha_Contrast;
	float Alpha_Pivot;

]]

----------------BufferA---------------
-- source of kernel
BufferAKernel =
    [[
//-----------------------
//-------- mat2 ---------
//-----------------------
 typedef struct
  {
  float2 r0, r1;
  } mat2;

 __DEVICE__ inline mat2 make_mat2( float2 A, float2 B)
  {
  mat2 C;
  C.r0 = A;
  C.r1 = B;
  return C;
  }

 __DEVICE__ inline mat2 make_mat2_2( float A, float B, float C, float D)
  {
  mat2 E;
  E.r0 = to_float2(A,B);
  E.r1 = to_float2(C,D);
  return E;
  }

  __DEVICE__ inline float2 mat2_multi_f2( mat2 B, float2 A)
  {
  float2 C;
  C.x = A.x * B.r0.x + A.y * B.r0.y;
  C.y = A.x * B.r1.x + A.y * B.r1.y;
  return C;
  }


__DEVICE__ float fractf(float A){return A - _floor(A);}


// created by florian berger (flockaroo) - 2016
// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0f Unported License.

// single pass CFD
// ---------------
// this is some "computational flockarooid dynamics" ;)
// the self-advection is done purely rotational on all scales.
// therefore i dont need any divergence-free velocity field.
// with stochastic sampling i get the proper "mean values" of rotations
// over time for higher order scales.
//
// try changing "RotNum" for different accuracies of rotation calculation
// for even RotNum uncomment the line #define SUPPORT_EVEN_ROTNUM


__DEVICE__ float randS(float2 uv)
{
    //return fractf(_sinf(dot(x,to_float2(52.127f, 61.2871f))) * 521.582f); //hash21
    return fractf(_sinf(dot(uv, to_float2(12.9898, 78.233))) * 43758.5453);
}


__DEVICE__ float getRot(float2 pos, float2 b, float2 Res, __TEXTURE2D__ iChannel0, float ang, float RotNum)
{
    float an =1.0f;
	//mat2 m = make_mat2_2(_cosf(ang*an),_sinf(ang*an),-_sinf(ang*an),_cosf(ang*an));
	mat2 m = make_mat2_2(cos(ang),sin(ang),-sin(ang),cos(ang));

    float2 p = b;
    float rot=0.0f;
    for(int i=0.0f;i<5.0f;i++)
    {
        rot+=dot(to_float2(_tex2DVecN(iChannel0,fractf((pos.x+p.x)/Res.x),fractf((pos.y+p.y)/Res.y),15).x,_tex2DVecN(iChannel0,fractf((pos.x+p.x)/Res.x),fractf((pos.y+p.y)/Res.y),15).y)-to_float2_s(0.5f),to_float2(p.y,p.x)*to_float2(1,-1));
        p = mat2_multi_f2(m , p);
    }
    return rot/(float)(RotNum)/dot(b,b);
}


__DEVICE__ float2 spin(float2 uv, float2 center, float angle, float aspect)
{
  float C = cos(angle);
  float S = sin(angle);

  uv -= center;
  float x = uv.x;
  uv.x = (x*aspect * C - uv.y * S);
  uv.y = (x*aspect * S + uv.y * C);
  uv += center;

return uv;
}


//############################################################################################################################
__KERNEL__ void BufferAKernel(__CONSTANTREF__ GlobalParams *params, __TEXTURE2D__ iChannel0, __TEXTURE2D__ iChannel1, __TEXTURE2D__ iChannel2, __TEXTURE2D__ iChannel3, __TEXTURE2D_WRITE__ dst)
{
  DEFINE_KERNEL_ITERATORS_XY(x, y);
  //---------------------------------------
  if (x < params->width && y < params->height)
  {

    //-----------------------
     float2 fragCoord = to_float2(x, y);
     float2 iResolution = to_float2(params->width, params->height);
     float ratio = (float)params->width/(float)params->height;
     float itime=params->itime*params->freq;
     float4 fragColor = to_float4_s(0.0f);
     //-----------------------

    //Functionality.......
    float2 Res = iResolution;

	float RotNum = 5.0f;
	float ang  = (2.0f*3.1415926535f/(float)(RotNum));
	float an = params->Drift*2.0f;

    //mat2 m = make_mat2_2(_cosf(ang*an),_sinf(ang*an),-_sinf(ang*an),_cosf(ang*an));
	mat2 m = make_mat2_2(cos(ang*an),sin(ang*an),-sin(ang*an),cos(ang*an));
    //mat2 mh = make_mat2_2(cos(ang*0.5f),sin(ang*0.5f),-sin(ang*0.5f),cosf(ang*0.5f));

    float2 pos = to_float2(fragCoord.x+0.5f,fragCoord.y+0.5f);

	float rnd = 0.0f;
    if (params->noise)
          rnd = randS(to_float2((float)(params->iframe)/Res.x, 0.5/Res.y));

	//rnd = _tex2DVecN(iChannel3,(float)(params->iframe)/Res.x, 0.5/Res.y, 15).x - 0.5f; //Noisepattern


    float2 b = to_float2(cos(ang*rnd),sin(ang*rnd));
    float2 v=to_float2_s(0);
    float bbMax=0.7f*Res.y; bbMax*=bbMax;
    for(int j=0.0f;j<20.00f;j++)
    {
        if ( dot(b,b) > bbMax ) break;
        float2 p = b;
        for(int i=0;i<5;i++)
        {
           //float2 mhb = mat2_multi_f2(mh , b); //Even RotNums
		   //v+=swiyx(p)*getRot(pos+p,-mhb); //Original

		   v+= to_float2(p.y,p.x)*getRot(pos+p,b,Res*params->Structure*2.0f,iChannel0,ang, RotNum)*params->freq;

		   p = mat2_multi_f2(m , p);
        }
        b*=2.0f;
    }

    fragColor=_tex2DVecN(iChannel0,fractf((pos.x+v.x*-1*2.0f*params->X_Shift*2.0f)/Res.x),fractf((pos.y+v.y*1*2.0f*params->Y_Shift*2.0f)/Res.y),15);

	// add a little "motor" the center
    float2 scr=(fragCoord/Res)*2.0f-to_float2_s(1.0f);
	fragColor += to_float4_aw(to_float3_aw((0.01f*2.0f*params->SampleSize*to_float2(scr.x,scr.y) / (dot(scr,scr)/0.1f+0.3f)),0.0f),0.0f);


	if (params->Blend01 >0.0f)fragColor = _mix(fragColor,_tex2DVecN(iChannel1,fragCoord.x/iResolution.x,fragCoord.y/iResolution.y,15),params->Blend01);
	if (params->Blend02 >0.0f) fragColor = _mix(fragColor,_tex2DVecN(iChannel2,fragCoord.x/iResolution.x,fragCoord.y/iResolution.y,15),params->Blend02);
	if (params->Blend03 >0.0f)fragColor = _mix(fragColor,_tex2DVecN(iChannel3,fragCoord.x/iResolution.x,fragCoord.y/iResolution.y,15),params->Blend03);


    if ((params->startpicture && params->iframe <= 4.0f) || (params->reset))
		fragColor = _tex2DVecN(iChannel1,fragCoord.x/iResolution.x,fragCoord.y/iResolution.y,15);

    _tex2DVec4Write(dst, x, y, fragColor);
  }
}
]]

----------------Image---------------
-- source of kernel
ImageKernel =
    [[
__DEVICE__ float3 reflectf3(float3 I, float3 N) {return I - 2.0f * dot(N, I) * N;}

__DEVICE__ float getVal(float2 uv, __TEXTURE2D__ iChannel0)
{
    return length(to_float3(_tex2DVecN(iChannel0,uv.x,uv.y,15).x,_tex2DVecN(iChannel0,uv.x,uv.y,15).y,_tex2DVecN(iChannel0,uv.x,uv.y,15).z));
}

__DEVICE__ float2 getGrad(float2 uv,float delta, __TEXTURE2D__ iChannel0)
{
    float2 d=to_float2(delta,0);
    return to_float2(
        getVal(uv+to_float2(d.x,d.y),iChannel0)-getVal(uv-to_float2(d.x,d.y),iChannel0),
        getVal(uv+to_float2(d.y,d.x),iChannel0)-getVal(uv-to_float2(d.y,d.x),iChannel0)
    )/delta;
}
	__DEVICE__ float2 spin(float2 uv, float2 center, float angle, float aspect) {
		float C = _cosf(angle);
		float S = _sinf(angle);

		uv -= center;
		float x = uv.x;
		uv.x = (x*aspect * C - uv.y * S);
		uv.y = (x*aspect * S + uv.y * C);
		uv += center;
		return uv;
	}

	__DEVICE__ inline float pow1f(float x, float y) {
		float ret = _powf(x,y);
		if (isnan(ret)) {
			ret = 0.0001f;
		}
		return ret;
	}

	__DEVICE__ float contrast_curve( float ch_low, float ch_high, float ch_in, float contrast, float pivot) {
		float ch_out = 0.0f;
		float q = 2.0f / (1.0f - contrast) - 1.0f;
		if (ch_in < 0.0f) {ch_out = ch_low;}
		if (ch_in > 1.0f) {ch_out = ch_high;}

		if (ch_in <= pivot && ch_in >= 0.0f) {	ch_out =         pow1f(ch_in    , q) / pow1f(pivot        , q - 1.0f)  * (ch_high - ch_low) + ch_low; }
		if (ch_in >  pivot && ch_in <= 1.0f) {	ch_out = (1.0f - pow1f(1.0f - ch_in , q) / pow1f(1.0f - pivot , q - 1.0f)) * (ch_high - ch_low) + ch_low; }

		return ch_out;
	}

//************************************************************************
__KERNEL__ void ImageKernel(__CONSTANTREF__ GlobalParams *params, __TEXTURE2D__ iChannel0, __TEXTURE2D__ iChannel1, __TEXTURE2D__ iChannel2, __TEXTURE2D__ iChannel3, __TEXTURE2D_WRITE__ dst)
{
  DEFINE_KERNEL_ITERATORS_XY(x, y);
  if (x < params->width && y < params->height)
  {

    //-----------------------
    float2 fragCoord = to_float2(x, y);
    float2 iResolution = to_float2(params->width, params->height);
    float ratio = (float)params->width/(float)params->height;
    float itime=params->itime*params->freq;
    float4 fragColor = to_float4_s(0.0f);
    //-----------------------
	float2 uv = (fragCoord - 0.5f*iResolution)/iResolution.y;
	//uv = fragCoord / iResolution;
	uv -=  to_float2( (params->center[0]-0.5f)*ratio, (params->center[1]-0.5f));
	uv = uv / (float)params->scale;
	float2 Pivot = to_float2(((params->pivot[0]-0.5f)*ratio),(params->pivot[1]-0.5f));
	uv = spin(uv, Pivot, params->angle, 1.0f);

	uv = to_float2(uv.x/ratio+0.5f,uv.y+0.5f);

    float3 n = to_float3_aw(getGrad(uv,1.0f/iResolution.y,iChannel0),150.0f);
    n=normalize(n);
    fragColor=to_float4_aw(n,1);
    float3 light = normalize(to_float3(1,1,2));
    float diff=_clampf(dot(n,light),0.5f,1.0f)*params->Brightness*2.0f*0.62f/0.5f;
    float spec=_clampf(dot(reflectf3(light,n),to_float3(0,0,-1)),0.0f,1.0f);
    spec=_powf(spec,36.0f)*2.5f*params->Reflection*2.0f;
      //spec=0.0f;
	fragColor = _tex2DVecN(iChannel0,uv.x,uv.y,15)*to_float4_s(diff)+to_float4_s(spec);
	fragColor.w = 1.0f;


	if (params->Blend01 >0.0f)fragColor = _mix(fragColor,_tex2DVecN(iChannel1,uv.x,uv.y,15),params->Blend01*params->Blend01);
	if (params->Blend02 >0.0f) fragColor = _mix(fragColor,_tex2DVecN(iChannel2,uv.x,uv.y,15),params->Blend02*params->Blend02);
	if (params->Blend03 >0.0f)fragColor = _mix(fragColor,_tex2DVecN(iChannel3,uv.x,uv.y,15),params->Blend03*params->Blend03);

	float luma;
	float alpha;
	luma = (fragColor.x * params->Alpha_Red + fragColor.y * params->Alpha_Green + fragColor.z * params->Alpha_Blue);
	alpha = contrast_curve(params->Alpha_Low , params->Alpha_High, luma, params->Alpha_Contrast , params->Alpha_Pivot);
	if (params->Alpha_Apply) fragColor.w = alpha;

	if (params->Alpha_Show > 0.0f && params->Alpha_Apply) {
		fragColor = to_float4(alpha,alpha,alpha,1.0f);
	}

    _tex2DVec4Write(dst, x, y, fragColor);
  }
}
]]

-- "LUA CODE..." /**

-------------------------------------------------------------------
--       Create
-------------------------------------------------------------------

function Create()

  StandardShaderFuseTopControls();

  ------------------- In/Out -----------------

  InImage1 = self:AddInput("Image", "Image", {
    LINKID_DataType = "Image",
	  LINK_Visible = false,
    LINK_Main = 1,
    INP_Required = false
  })

  InImage2 = self:AddInput("Image1", "Image1", {
    LINKID_DataType = "Image",
    LINK_Main = 2,
    INP_Required = false
  })

  InImage3 = self:AddInput("Image2", "Image2", {
    LINKID_DataType = "Image",
    LINK_Main = 3,
    INP_Required = false
  })

  InImage4 = self:AddInput("Image3", "Image3", {
    LINKID_DataType = "Image",
    LINK_Main = 4,
    INP_Required = false
  })

  OutImage = self:AddOutput("Output", "Output", {
    LINKID_DataType = "Image",
    LINK_Main = 1,
  })

  ----- Inspector Panel Controls

  Sep1 = self:AddInput(string.rep("_", 52), "Separator1", {
    LINKID_DataType = "Text",
    INPID_InputControl = "LabelControl",
    INP_External = false,
    INP_Passive = true,
  })

  InCenter = self:AddInput("Center", "Center", {
    LINKID_DataType = "Point",
    INPID_InputControl = "OffsetControl",
    INPID_PreviewControl = "CrosshairControl",
    INP_DoNotifyChanged = true,
	  IC_Visible          = true,
  })

  InScale = self:AddInput("Scale", "Scale", {
    LINKID_DataType = "Number",
    INPID_InputControl = "SliderControl",
    --INPID_PreviewControl = "RectangleControl",
    RCD_LockAspect     = 1,
    RC_DoLockAspect    = true,
    RCID_Center        = "true",
    INP_Default = 1.0,
    INP_MinAllowed = 0.1,
    INP_MaxAllowed = 5.0,
	  IC_Visible          = true,
  })

  InAngle = self:AddInput("Angle", "Angle", {
    LINKID_DataType = "Number",
    INPID_InputControl = "ScrewControl",
    INPID_PreviewControl = "AngleControl",
    --INP_MinAllowed =   0.0,
    INP_MinScale = 0.0,
	  INP_MaxScale = 360.0,
    INP_Default = 0.0,
    ACID_Center = "Center",
	  IC_Visible          = true,
    --PC_GrabPriority = 1 -- give this a higher priority than the rectangle
  })

  InPivot = self:AddInput("Pivot", "Pivot", {
    LINKID_DataType = "Point",
    INPID_InputControl = "OffsetControl",
    INPID_PreviewControl = "CrosshairControl",
    CHC_Style = "DiagonalCross",
    PC_GrabPriority = -1,
	  IC_Visible          = true,
  })

  InWidgets = self:AddInput("On-Screen Widgets", "OnScreen Widgets", {
    LINKID_DataType = "Number",
    INPID_InputControl = "MultiButtonControl",
    INP_Default = 0,
    INP_Integer = true,
    INP_External        = false,
	  INP_Passive         = true,
    INP_DoNotifyChanged = true,
    MBTNC_ForceButtons = true,
    MBTNC_StretchToFit = true,
    { MBTNC_AddButton = "Show", },
    { MBTNC_AddButton = "Hide", },
	--IC_Visible          = false,
  })

  InFrequency = self:AddInput("Frequency", "Frequency", {
    LINKID_DataType = "Number",
    INPID_InputControl = "SliderControl",
    INP_Default = 1.0,
    --INP_MinAllowed = -1.0,
    --INP_MaxAllowed = 1.0,
  })

  Sep2 = self:AddInput(string.rep("_", 52), "Separator2", {
    LINKID_DataType    = "Text",
    INPID_InputControl = "LabelControl",
    INP_External       = false,
    INP_Passive        = true,
	  IC_Visible         = true,
  })


  Reset = self:AddInput("Reset", "_Reset", {
    INPID_InputControl  = "ButtonControl",
	  INP_DoNotifyChanged = true,
    INP_External        = false,
    IC_Visible          = true,
    BTNCS_Execute       = "fusion.CacheManager:Purge()",
  })

  InResetclick = self:AddInput("Resetclick", "Resetclick", {
    LINKID_DataType     = "Number",
	--INPID_InputControl = "SliderControl",
    INPID_InputControl  = "CheckboxControl",
	  INP_Integer         = true,
    INP_DoNotifyChanged = true,
    INP_Default         = 0,
    IC_Visible          = false,
    INP_External        = false,
  })

  self:BeginControlNest("Parameter", "_Parameter", true, {})

  InStartpicture = self:AddInput("Startpicture (Image1)", "Startpicture", {
    LINKID_DataType = "Number",
    INPID_InputControl = "CheckboxControl",
	  INP_Integer = true,
    INP_DoNotifyChanged = true,
    INP_Default         = 1,
    IC_Visible          = true,
    INP_External        = false,
  })

  InNoise = self:AddInput("Noise", "Noise", {
    LINKID_DataType = "Number",
    INPID_InputControl = "CheckboxControl",
	  INP_Integer = true,
    INP_DoNotifyChanged = true,
    INP_Default         = 1,
    IC_Visible          = true,
    INP_External        = false,
  })

  --------------------------------------------

	InStructure = self:AddInput("Structure", "Structure", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.5,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

	InDrift = self:AddInput("Drift", "Drift", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.5,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

	InX_Shift = self:AddInput("X_Shift", "X_Shift", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.5,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

	InY_Shift = self:AddInput("Y_Shift", "Y_Shift", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.5,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

	InReflection = self:AddInput("Reflection", "Reflection", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.5,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

	InBrightness = self:AddInput("Brightness", "Brightness", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.5,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

  Sep2 = self:AddInput(string.rep("_", 52), "Separator2", {
    LINKID_DataType = "Text",
    INPID_InputControl = "LabelControl",
    INP_External = false,
    INP_Passive = true,
  })

	InBlend01 = self:AddInput("Blend01", "Blend01", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.0,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

	InBlend02 = self:AddInput("Blend02", "Blend02", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.0,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

	InBlend03 = self:AddInput("Blend03", "Blend03", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.0,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
	})

	InSampleSize = self:AddInput("Sample Size", "SampleSize", {
		LINKID_DataType 	= "Number",
		INPID_InputControl 	= "SliderControl",
		INP_Default 		= 0.5,
		INP_MinScale 		= 0.0,
		INP_MaxScale 		= 1.0,
		INP_Integer = false,
	})

  Sep1 = self:AddInput(string.rep("_", 100), "Separator1", {
    LINKID_DataType = "Text",
    INPID_InputControl = "LabelControl",
    INP_External = false,
    INP_Passive = true,
  })

	InAlpha_Apply = self:AddInput("Apply Alpha", "Alpha_Apply", {
		LINKID_DataType = "Number",
		INPID_InputControl = "CheckboxControl",
		INP_Integer = false,
		INP_Default = 0,
		ICD_Width = 1,
		INP_DoNotifyChanged = true,
	})

	InAlpha_Red = self:AddInput("Channel", "Alpha_Red", {
		LINKID_DataType = "Number",
		INPID_InputControl = "ColorControl",
		INP_MinScale = 0.0,
		INP_MaxScale = 1.0,
		INP_Default  = 0.2126,
		IC_ControlGroup = 1,
		IC_ControlID = 0,
	})

	InAlpha_Green = self:AddInput("Alpha Green", "Alpha_Green", {
		LINKID_DataType = "Number",
		INPID_InputControl = "ColorControl",
		INP_MinScale = 0.0,
		INP_MaxScale = 1.0,
		INP_Default  = 0.7152,
		IC_ControlGroup = 1,
		IC_ControlID = 1,
	})

	InAlpha_Blue = self:AddInput("Alpha Blue", "Alpha_Blue", {
		LINKID_DataType = "Number",
		INPID_InputControl = "ColorControl",
		INP_MinScale = 0.0,
		INP_MaxScale = 1.0,
		INP_Default  = 0.0722,
		IC_ControlGroup = 1,
		IC_ControlID = 2,
	})

	InAlpha_Low = self:AddInput("Low", "Alpha_Low", {
		LINKID_DataType = "Number",
		INPID_InputControl = "SliderControl",
		INP_MinScale = 0.0,
		INP_MaxScale = 1.0,
		INP_Default  = 0.0,
	})

	InAlpha_High = self:AddInput("High", "Alpha_High", {
		LINKID_DataType = "Number",
		INPID_InputControl = "SliderControl",
		INP_MinScale = 0.0,
		INP_MaxScale = 1.0,
		INP_Default  = 1.0,
	})

	InAlpha_Contrast = self:AddInput("Contrast", "Alpha_Contrast", {
		LINKID_DataType = "Number",
		INPID_InputControl = "SliderControl",
		INP_MinScale = -0.95,
		INP_MaxScale = 0.95,
		INP_Default  = 0.0,
	})

	InAlpha_Pivot = self:AddInput("Pivot", "Alpha_Pivot", {
		LINKID_DataType = "Number",
		INPID_InputControl = "SliderControl",
		INP_MinScale = 0.0,
		INP_MaxScale = 1.0,
		INP_Default  = 0.5,
	})

	InAlpha_Show = self:AddInput("Show", "Alpha_Show", {
		LINKID_DataType = "Number",
		INPID_InputControl = "CheckboxControl",
		INP_Integer = false,
		INP_Default = 0,
		ICD_Width = 1,
		INP_DoNotifyChanged = true,
	})


  self:EndControlNest()

  -- if dctlfuse_author=='JiPi' then
  --   sw_visible = true
  -- else
  --   sw_visible = false
  -- end
  --   InLogoSw = self:AddInput("Logo", "LogoSw", {
  --     LINKID_DataType = "Number",
  --     INPID_InputControl = "CheckboxControl",
  --     INP_Integer = true,
  --     INP_DoNotifyChanged = true,
  --     INP_Default         = 1,
  --     IC_Visible          = sw_visible,
  --     INP_External        = false,
  --     INP_Passive         = true,
  --   })

  --------------------------------------------
   StandardShaderFuseBottomControls();
  --------------------------------------------

end

function NotifyChanged(inp, param, time)
	if inp ~= nil and param ~= nil then

		if inp == InCenter then
			-- the center moved, reposition the axis according to the current offset
			nCenterX = param.X
			nCenterY = param.Y

			InPivot:SetAttrs({
			PCD_OffsetX = nCenterX - 0.5,
			PCD_OffsetY = nCenterY - 0.5,
			})

			InAngle:SetAttrs({
			PCD_OffsetX = (nCenterX - 0.5)/100,
			PCD_OffsetY = (nCenterY - 0.5)/100,
		})
		end
		if inp == InWidgets then
		  if param.Value == 1.0 then
			 InCenter:SetAttrs({ PC_Visible = false })
			 InAngle:SetAttrs({ PC_Visible = false })
			 InPivot:SetAttrs({ PC_Visible = false })
			 InScale:SetAttrs({ PC_Visible = false })
		  else
			 InCenter:SetAttrs({ PC_Visible = true })
			 InAngle:SetAttrs({ PC_Visible = true })
			 InPivot:SetAttrs({ PC_Visible = true })
			 InScale:SetAttrs({ PC_Visible = true })
		  end
		end


		if inp == InAlpha_Apply then
			InAlpha_Red:SetAttrs({ IC_Visible = true, })
			InAlpha_Low:SetAttrs({ IC_Visible = true, })
			InAlpha_High:SetAttrs({ IC_Visible = true, })
			InAlpha_Contrast:SetAttrs({ IC_Visible = true, })
			InAlpha_Pivot:SetAttrs({ IC_Visible = true, })
			InAlpha_Show:SetAttrs({ IC_Visible = true, })

			if param.Value == 0 then
				InAlpha_Red:SetAttrs({ IC_Visible = false, })
				InAlpha_Low:SetAttrs({ IC_Visible = false, })
				InAlpha_High:SetAttrs({ IC_Visible = false, })
				InAlpha_Contrast:SetAttrs({ IC_Visible = false, })
				InAlpha_Pivot:SetAttrs({ IC_Visible = false, })
				InAlpha_Show:SetAttrs({ IC_Visible = false, })
			end
		end

    if inp == Reset then
      if param.Value == 1 then
        InResetclick:SetSource(Number(1),0,0)
      end
		end

    -- if inp == InLogoSw then
    --   if param.Value == 1 then
    --   authorlogo:SetAttrs({IC_Visible = true})
    --   else
    --   authorlogo:SetAttrs({IC_Visible = false})
    --   end
    -- end

	end
end

-------------------------------------------------------------------
--       Process
-------------------------------------------------------------------
ImgAttrs_Global = {
        { IMG_Channel = "Red", },
        { IMG_Channel = "Green", },
        { IMG_Channel = "Blue", },
        { IMG_Channel = "Alpha", },
        IMG_Width = Width,
        IMG_Height = Height,
	    IMG_DeferAlloc = false,
        }

Image_Buff_Global = Image(ImgAttrs_Global)


timestamp = 0
--------------------------------------------------------------------
function Process(req)
    local center = InCenter:GetValue(req)
    local angle  = -InAngle:GetValue(req).Value/360*3.1415*2
    local scale  = InScale:GetValue(req).Value
    local freq   = InFrequency:GetValue(req).Value
    local framerate = self.Comp:GetPrefs("Comp.FrameFormat.Rate") -- get the frame rate of the comp set in the preferences


--Zeitmessung

if (req.Time == 0) then
   timestamp = os.clock()
end


if (req.Time == 200) then
   --print ("TimeFFT:", os.clock()-timestamp)
end


    --This creates an image for us to work on.
    local imgattrs = {
        IMG_Document = self.Comp,
        { IMG_Channel = "Red", },
        { IMG_Channel = "Green", },
        { IMG_Channel = "Blue", },
        { IMG_Channel = "Alpha", },
        IMG_Width = Width,
        IMG_Height = Height,
        IMG_XScale = XAspect,
        IMG_YScale = YAspect,
        IMAT_OriginalWidth = realwidth,
        IMAT_OriginalHeight = realheight,
        IMG_Quality = not req:IsQuick(),
        IMG_MotionBlurQuality = not req:IsNoMotionBlur(),
        }

    if not req:IsStampOnly() then
        imgattrs.IMG_ProxyScale = 1
    end

    if SourceDepth ~= 0 then
        imgattrs.IMG_Depth = SourceDepth
    end

    local p = Pixel({R=0,G=0,B=0,A=0})
    src1 = Image(imgattrs)
    src1:Fill(p)

	  if (InImage2:GetValue(req) ~= nil) then
         src2 = InImage2:GetValue(req)
      else
         src2 = Image(imgattrs)
         src2:Fill(p)
      end
      if (InImage3:GetValue(req) ~= nil) then
         src3 = InImage3:GetValue(req)
      else
         src3 = Image(imgattrs)
         src3:Fill(p)
      end
      if (InImage4:GetValue(req) ~= nil) then
         src4 = InImage4:GetValue(req)
      else
         src4 = Image(imgattrs)
         src4:Fill(p)
      end


    local dstA = Image {IMG_Like = src1, IMG_DeferAlloc = true}
	local dstI = Image {IMG_Like = src1, IMG_DeferAlloc = true}


	if req:IsPreCalc() then
		 --print("\n######################### Precalc ##############################\n")
		 local out = Image({IMG_Like = dstI, IMG_NoData = true})
		 OutImage:Set(req, out)
		 return
	end

    -------------------------- BufferA-Kernel----------------------------------------
    local nodeName = self.Name
    BufferAKernel = string.gsub(BufferAKernel, "BufferAKernel", nodeName)
    nodeA = DVIPComputeNode(req, nodeName, BufferAKernel, "GlobalParams", GlobalParams)

	--nodeA = DVIPComputeNode(req, "BufferAKernel", BufferAKernel, "GlobalParams", GlobalParams)

	local params = {}
	if not pcall(function ()

		params.center = {center.X,center.Y}
		params.scale = 1/scale
		params.angle = angle
		params.pivot = {InPivot:GetValue(req).X,InPivot:GetValue(req).Y}
		params.freq = freq
		params.width  = src1.DataWindow:Width()
		params.height = src1.DataWindow:Height()
		params.itime = req.Time / framerate
		params.iframe = req.Time
		params.startpicture = InStartpicture:GetValue(req).Value
		params.noise = InNoise:GetValue(req).Value
		params.reset = InResetclick:GetValue(req).Value

		params.Blend01  	= InBlend01:GetValue(req).Value
		params.Blend02  	= InBlend02:GetValue(req).Value
		params.Blend03  	= InBlend03:GetValue(req).Value
		params.Brightness = InBrightness:GetValue(req).Value
		params.Drift  		= InDrift:GetValue(req).Value

		params.Structure  = InStructure:GetValue(req).Value
		params.Reflection = InReflection:GetValue(req).Value
		params.SampleSize = InSampleSize:GetValue(req).Value
		params.X_Shift  	= InX_Shift:GetValue(req).Value
		params.Y_Shift  	= InY_Shift:GetValue(req).Value

		params.Alpha_Apply 	= InAlpha_Apply:GetValue(req).Value
		params.Alpha_Show 	= InAlpha_Show:GetValue(req).Value
		params.Alpha_Red 	= InAlpha_Red:GetValue(req).Value
		params.Alpha_Green 	= InAlpha_Green:GetValue(req).Value
		params.Alpha_Blue 	= InAlpha_Blue:GetValue(req).Value

		params.Alpha_Low 	= InAlpha_Low:GetValue(req).Value
		params.Alpha_High 	= InAlpha_High:GetValue(req).Value
		params.Alpha_Contrast = InAlpha_Contrast:GetValue(req).Value
		params.Alpha_Pivot 	= InAlpha_Pivot:GetValue(req).Value

		nodeA:SetParamBlock(params)
    end) then

		params = nodeA:GetParamBlock(GlobalParams)

		params.center = {center.X,center.Y}
		params.scale = 1/scale
		params.angle = angle
		params.pivot = {InPivot:GetValue(req).X,InPivot:GetValue(req).Y}
		params.freq = freq
		params.width  = src1.DataWindow:Width()
		params.height = src1.DataWindow:Height()
		params.itime = req.Time / framerate
		params.iframe = req.Time
		params.startpicture = InStartpicture:GetValue(req).Value
		params.noise = InNoise:GetValue(req).Value
		params.reset = InResetclick:GetValue(req).Value

		params.Blend01  	= InBlend01:GetValue(req).Value
		params.Blend02  	= InBlend02:GetValue(req).Value
		params.Blend03  	= InBlend03:GetValue(req).Value
		params.Brightness   = InBrightness:GetValue(req).Value
		params.Drift  		= InDrift:GetValue(req).Value

		params.Structure    = InStructure:GetValue(req).Value
		params.Reflection   = InReflection:GetValue(req).Value
		params.SampleSize   = InSampleSize:GetValue(req).Value
		params.X_Shift  	= InX_Shift:GetValue(req).Value
		params.Y_Shift  	= InY_Shift:GetValue(req).Value

		params.Alpha_Apply 	= InAlpha_Apply:GetValue(req).Value
		params.Alpha_Show 	= InAlpha_Show:GetValue(req).Value
		params.Alpha_Red 	= InAlpha_Red:GetValue(req).Value
		params.Alpha_Green 	= InAlpha_Green:GetValue(req).Value
		params.Alpha_Blue 	= InAlpha_Blue:GetValue(req).Value

		params.Alpha_Low 	= InAlpha_Low:GetValue(req).Value
		params.Alpha_High 	= InAlpha_High:GetValue(req).Value
		params.Alpha_Contrast = InAlpha_Contrast:GetValue(req).Value
		params.Alpha_Pivot 	= InAlpha_Pivot:GetValue(req).Value

		nodeA:SetParamBlock(params)
	end

    nodeA:AddSampler("RowSampler", TEX_FILTER_MODE_LINEAR,TEX_ADDRESS_MODE_MIRROR, TEX_NORMALIZED_COORDS_TRUE)

    nodeA:AddInput("iChannel0", Image_Buff_Global)
	  nodeA:AddInput("iChannel1", src2)
	  nodeA:AddInput("iChannel2", src3)
	  nodeA:AddInput("iChannel3", src4)
    nodeA:AddOutput("dst", dstA)


    local success = nodeA:RunSession(req)
    if not success then
        dstA = nil
        dump(nodeA:GetErrorLog())
    end

    Image_Buff_Global = dstA --Recursiv Image


    if (InResetclick:GetValue(req).Value == 1) then
       InResetclick:SetSource(Number(0),0,0)
    end

  -------------------------- ImageKernel----------------------------------------
  --node = DVIPComputeNode(req, "ImageKernel", ImageKernel, "GlobalParams", GlobalParams)

  ImageKernel = string.gsub(ImageKernel, "ImageKernel", "IK"..nodeName)
  node = DVIPComputeNode(req, "IK"..nodeName, ImageKernel, "GlobalParams", GlobalParams)


  node:SetParamBlock(params)

  node:AddSampler("RowSampler", TEX_FILTER_MODE_LINEAR,TEX_ADDRESS_MODE_MIRROR, TEX_NORMALIZED_COORDS_TRUE)

  node:AddInput("iChannel0", Image_Buff_Global)
  node:AddInput("iChannel1", src2)
  node:AddInput("iChannel2", src3)
  node:AddInput("iChannel3", src4)
  node:AddOutput("dst", dstI)

  local success = node:RunSession(req)
  if not success then
      dstI = nil
      dump(node:GetErrorLog())
  end

  OutImage:Set(req, dstI)
	collectgarbage();
end


-- **/ "End of LUA CODE"
-- >>> SCHNIPP::SHADERFUSECONTROLS.version="MonumentsAndSites"

function ShaderFuseControls_AuthImg() if FC_AUTHIMG ~= nil and FC_AUTHIMG ~= ""  then self:AddInput('<p align="'..FC_AUTHIMGALIGN..'"><a href="https://github.com/nmbr73/Shadertoys"><img '..FC_AUTHIMG..' /></a></p>',"DctlFuseLogoLabel", {ICS_ControlPage = (FC_AUTHIMGPOS == 2 and 'Info' or nil),IC_ControlPage=(FC_AUTHIMGPOS == 2 and 1 or FC_AUTHIMGPOS),LINKID_DataType = "Text",INPID_InputControl = "LabelControl",LBLC_MultiLine = true,IC_NoLabel = true,IC_NoReset = true,INP_External = false,INP_Passive = true,}) end end
function ShaderFuseControls_InfoBtn() self:AddInput(dctlfuse_name.." Info ...", "DctlFuseInfoButton", {ICS_ControlPage = (FC_INFOBTNPOS == 2 and 'Info' or nil),IC_ControlPage = (FC_INFOBTNPOS == 2 and 1 or FC_INFOBTNPOS),LINKID_DataType = "Text",INPID_InputControl = "ButtonControl",INP_DoNotifyChanged = false,INP_External = false,BTNCS_Execute = 'bmd.openurl("'..(dctlfuse_infourl~=nil and dctlfuse_infourl or 'https://nmbr73.github.io/Shadertoys/Shaders/'..dctlfuse_category..'/'..dctlfuse_name..'.html')..'")'}) end
function ShaderFuseControls_BandImg() if FC_SHOWBRANDIMG then self:AddInput('<p align="center"><a href="https://github.com/nmbr73/Shadertoys"><img height="18" src="data:image/png;base64,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" /></a></p>', "DctlFuseBrandLabel",{ IC_ControlPage = -1 ,LINKID_DataType = "Text",INPID_InputControl = "LabelControl",LBLC_MultiLine = true,IC_NoLabel = true,IC_NoReset = true,INP_External = false,INP_Passive = true,}) end end

function ShaderFuseControls_InfoTxt()
  self:AddInput('<p align="'..FC_INFOTXTALIGN ..'">'
    ..'Shadertoy <a href="https://www.shadertoy.com/view/'..shadertoy_id..'" style="color:white; text-decoration:none; ">'..shadertoy_name..'</a> by <a href="https://www.shadertoy.com/user/'..shadertoy_author..'" style="color:yellow; text-decoration:none; ">'..shadertoy_author..'</a><br />'
    ..'<span style="color:#ff6060; ">'..(shadertoy_license == "" and '&copy; '..shadertoy_author..' (CC BY-NC-SA 3.0)' or shadertoy_license)..'</span><br />'
    ..'DCTLified and DaFused by <a href="'..(dctlfuse_authorurl==nil and "https://nmbr73.github.io/Shadertoys/" or dctlfuse_authorurl)..'" style="color:yellow; text-decoration:none; ">'..dctlfuse_author..'</a><br />'
    ..'<span style="color:#4060ff; ">'..(FC_VERSIONNO==nil and '' or 'Version '..FC_VERSIONNO)..(FC_VERSIONNO~=nil and FC_VERSIONDATE~=nil and ' - ' or '')..(FC_VERSIONDATE==nil and '' or FC_VERSIONDATE)..(FC_VERSIONNO~=nil and FC_VERSIONDATE~=nil and '<br />' or '')..'</span></p>'
    ,"DctlFuseInfoLabel", {ICS_ControlPage =(FC_INFOTXTPOS == 2 and 'Info' or nil),IC_ControlPage = (FC_INFOTXTPOS == 2 and 1 or FC_INFOTXTPOS),LINKID_DataType="Text",INPID_InputControl="LabelControl",LBLC_MultiLine=true,IC_NoLabel=true,IC_NoReset=true,INP_External=false,INP_Passive=true})
end

function StandardShaderFuseTopControls()
  if FC_ITEMORDER         == nil then FC_ITEMORDER       = {ShaderFuseControls_InfoTxt,ShaderFuseControls_BandImg,ShaderFuseControls_InfoBtn,ShaderFuseControls_AuthImg} end
  if FC_SHOWBRANDIMG      == nil then FC_SHOWBRANDIMG    = true                  end
  if FC_AUTHBASEDLAYOUT   == nil then FC_AUTHBASEDLAYOUT = true                  end
  if FC_INFOBTNPOS        == nil then FC_INFOBTNPOS      = 2                     end
  if FC_INFOTXTPOS        == nil then FC_INFOTXTPOS      = 2                     end
  if FC_INFOTXTALIGN      == nil then FC_INFOTXTALIGN    = 'center'              end
  if FC_AUTHIMGPOS        == nil then FC_AUTHIMGPOS      = 2                     end
  if FC_AUTHIMGALIGN      == nil then FC_AUTHIMGALIGN    = 'center'              end
  if FC_VERSIONNO         == nil then FC_VERSIONNO       = dctlfuse_versionNo    end
  if FC_VERSIONDATE       == nil then FC_VERSIONDATE     = dctlfuse_versionDate  end
  if FC_AUTHIMG           == nil then FC_AUTHIMG         = ''                    end
  if dctlfuse_authorlogo  ~= nil then FC_AUTHIMG         = dctlfuse_authorlogo   end
  if FC_AUTHBASEDLAYOUT then
    if dctlfuse_author=='JiPi' then
    --FC_SHOWBRANDIMG=false
      FC_ITEMORDER  = {ShaderFuseControls_BandImg, ShaderFuseControls_AuthImg,ShaderFuseControls_InfoBtn,ShaderFuseControls_InfoTxt}
      FC_INFOBTNPOS = 1; FC_AUTHIMGPOS = -1; FC_AUTHIMGALIGN = 'center'; FC_INFOTXTPOS = 1; FC_INFOTXTALIGN = 'center'
    elseif dctlfuse_author=='nmbr73' then
      FC_ITEMORDER = {ShaderFuseControls_InfoBtn,ShaderFuseControls_BandImg,ShaderFuseControls_InfoTxt,ShaderFuseControls_AuthImg}
      FC_INFOBTNPOS = -1; FC_AUTHIMGPOS = 1; FC_AUTHIMGALIGN = 'right'; FC_INFOTXTPOS = 1; FC_INFOTXTALIGN = 'left'
    end
  end
end

function StandardShaderFuseBottomControls()
  if FC_INFOBTNPOS == 1 or FC_INFOTXTPOS == 1 or FC_AUTHIMGPOS==1 then
    self:AddInput( '<br />',"DctlFuseSeparatorLabel",{LINKID_DataType="Text",INPID_InputControl="LabelControl",LBLC_MultiLine=true,IC_NoLabel=true,IC_NoReset=true,INP_External=false,INP_Passive=true})
  end
  FC_ITEMORDER[1](); FC_ITEMORDER[2](); FC_ITEMORDER[3](); FC_ITEMORDER[4]();
end
-- <<< SCHNAPP::SHADERFUSECONTROLS